---
import ContentLayout from '../../layouts/ContentLayout.astro';
import ProductHero from '../../components/ProductHero.astro';
import ProTip from '../../components/ProTip.astro';
import { getProductBySlug, getAffiliateUrl, getRelatedProducts, isPublished, categories, getPriceTier } from '../../lib/config';
import { generateProductSchema, generateFAQSchema, generateArticleSchema, combineSchemas } from '../../lib/schema';

const product = getProductBySlug('msr-miniworks-ex-microfilter')!;
if (!isPublished(product.publishDate)) return Astro.redirect('/404');

const relatedProducts = getRelatedProducts(product);
const category = categories.find(c => c.slug === product.category);

const faqs = [
  { question: 'What is the difference between ceramic and hollow fiber filters?', answer: 'Ceramic filters like the MiniWorks EX use a rigid ceramic element with microscopic pores (0.2 microns) that physically block bacteria and protozoa. Hollow fiber filters use bundles of thin membrane tubes to achieve the same pore size. The key practical difference: ceramic elements can be field-cleaned by scrubbing the outer surface with the included pad, restoring flow rate dozens of times before replacement. Hollow fiber membranes cannot be scrubbed — they are backwashed, which is less effective at restoring heavily clogged filters. Ceramic is heavier but more maintainable; hollow fiber is lighter but more delicate (freeze damage destroys hollow fiber instantly, while ceramic survives moderate frost).' },
  { question: 'How do you clean the MiniWorks EX ceramic element in the field?', answer: 'Remove the ceramic element from the housing, then scrub the outer surface with the included abrasive cleaning pad using light, even strokes. You are removing the layer of trapped sediment and debris that clogs the pores. Scrub until the surface appears uniformly lighter in color. Rinse the element with clean water and reassemble. The ceramic element includes a gauge ring — when the element has been scrubbed down to the gauge diameter (typically after 150-200 cleanings), it is time to replace it. Each cleaning removes approximately 0.01mm of ceramic, so the 2,000-liter rated life assumes periodic cleaning throughout.' },
  { question: 'Does the MSR MiniWorks EX thread directly onto Nalgene bottles?', answer: 'Yes. The MiniWorks EX outlet threads are designed to mate directly with standard Nalgene wide-mouth bottles (63mm thread). You screw the filter outlet onto the bottle and pump — filtered water goes straight in without needing adapters, hoses, or bags. It also works with other wide-mouth bottles that use the 63mm Nalgene-standard thread. For narrow-mouth bottles like Smartwater or standard Camelbak bottles, you will need to pump into a wide-mouth container first or use the included hose attachment to direct flow into the narrow opening.' },
  { question: 'How do you restore flow rate when the MiniWorks EX gets slow?', answer: 'Reduced flow rate means the ceramic element is clogged with trapped particles — this is the filter doing its job. Field-clean the ceramic by scrubbing with the included pad (see cleaning FAQ above). Flow rate should return to near-original levels immediately. If flow rate remains slow after scrubbing, the activated carbon core may be saturated — this happens closer to the 2,000-liter mark. At that point, replace the entire ceramic + carbon element (MSR part #56425). Between cleanings, pumping slowly and evenly produces better flow than rapid, jerky strokes.' },
];

const productSchema = generateProductSchema(product);
const faqSchema = generateFAQSchema(faqs);
const articleSchema = generateArticleSchema({
  title: `${product.name} Review`,
  description: product.verdict,
  url: `/reviews/${product.slug}/`,
  datePublished: product.publishDate,
  dateModified: '2026-02-15',
  about: [{ name: product.name, url: `https://www.amazon.com/dp/${product.asin}`, type: 'Product' }],
  mentions: relatedProducts.slice(0, 3).map(p => ({ name: p.name, url: `https://www.amazon.com/dp/${p.asin}`, type: 'Product' })),
});
const schema = combineSchemas(productSchema, faqSchema, articleSchema);

const relatedArticles = [
  ...relatedProducts.slice(0, 2).map(p => ({
    title: `${p.name} Review`,
    url: `/reviews/${p.slug}/`,
    description: p.verdict,
  })),
  ...(category ? [{
    title: `Best ${category.name}`,
    url: `/best-${category.slug}/`,
    description: category.description,
  }] : []),
  {
    title: 'Best Water Filters for Camping',
    url: '/water-filters-for-camping/',
    description: 'Complete guide to choosing the right water filter for car camping, base camps, and frontcountry adventures.',
  },
];
---

<ContentLayout
  title={`${product.shortName} Review ${new Date().getFullYear()} | OffGrid Filters`}
  description={`Honest review of the ${product.name}. ${product.bestFor}.`}
  canonical={`/reviews/${product.slug}/`}
  category="Reviews"
  currentPage={product.name}
  schema={schema}
  relatedArticles={relatedArticles}
  lastUpdated="2026-02-15"
  heroImage={`/assets/${product.slug}-hero.webp`}
>
  <!-- HERO -->
  <h1>{product.name} Review {new Date().getFullYear()}</h1>
  <ProductHero product={product} />

  <!-- OVERVIEW -->
  <h2>Overview</h2>
  <p>The MSR MiniWorks EX is a dual-stage pump filter that pairs a 0.2-micron ceramic element with an activated carbon core to deliver water that is both safe and good-tasting. At $89.95, it occupies the mid-range of backcountry pump filters — more capable than basic straw filters, but far less expensive than expedition-grade options like the Katadyn Pocket. The ceramic + carbon combination sets it apart from pure hollow fiber designs: while hollow fiber removes pathogens, ceramic + carbon also strips out chlorine taste, organic chemicals, and the earthy/tannic flavors that make unfiltered backcountry water unpleasant.</p>
  <p>What makes the MiniWorks EX genuinely unique is field maintainability. When flow rate drops — and it will, after filtering silty or tannic water — you disassemble the housing, scrub the ceramic element with the included pad, and pump at near-original speed again. This is not possible with hollow fiber filters like the Sawyer Squeeze or Katadyn BeFree, where clogging means backwashing (partially effective) or replacing the entire filter. Over a week-long trip in sediment-heavy water sources, the MiniWorks' scrub-and-go design keeps working where hollow fiber filters would struggle.</p>
  <p>The tradeoff is weight. At 16 ounces, the MiniWorks EX is three times heavier than a Sawyer Squeeze and six times heavier than an MSR TrailShot. For weekend warriors and ultralight purists, that weight penalty is hard to justify. But for hikers who prioritize water taste, value field serviceability, or frequently encounter turbid water, the MiniWorks has earned its loyal following across decades of backcountry use. It threads directly onto Nalgene wide-mouth bottles, which eliminates the fiddly bags and adapters that plague squeeze-style filters.</p>

  <div class="best-for-box">
    <strong>Best For:</strong> {product.bestFor}
  </div>

  <!-- KEY FEATURES -->
  <h2>Key Features &amp; Specifications</h2>
  <table class="specs-table">
    <tr><td><strong>Filtration Stages</strong></td><td>{product.specs.filtrationStages}</td></tr>
    <tr><td><strong>Technology</strong></td><td>{product.specs.filtrationTechnology}</td></tr>
    <tr><td><strong>Micron Rating</strong></td><td>{product.specs.micronRating} microns</td></tr>
    <tr><td><strong>Capacity</strong></td><td>{product.specs.capacity}</td></tr>
    <tr><td><strong>Flow Rate</strong></td><td>{product.specs.flowRate}</td></tr>
    <tr><td><strong>Weight</strong></td><td>{product.specs.weight}</td></tr>
    <tr><td><strong>Dimensions</strong></td><td>{product.specs.dimensions}</td></tr>
    <tr><td><strong>Contaminants Removed</strong></td><td>{product.specs.contaminantsRemoved}</td></tr>
  </table>

  <p>The dual-stage system works sequentially: water first passes through the ceramic outer shell, which physically blocks bacteria (99.9999% removal) and protozoa (99.9% removal) at the 0.2-micron level. The water then flows through the activated carbon core, which adsorbs dissolved organic compounds, chlorine, and chemicals that cause off-tastes. This two-phase approach is why MiniWorks-filtered water consistently tastes better than water from single-stage hollow fiber filters — the carbon does the flavor work that membranes alone cannot.</p>

  <ProTip>Before your trip, do a test pump at home with tap water to familiarize yourself with the pumping rhythm and assembly. On the trail, use the smoothest, longest strokes you can — short jerky pumps waste effort and produce less flow. If you are filtering from a silty source, let your collection container sit for 5 minutes so the heaviest sediment settles to the bottom before you start pumping. This dramatically extends the time between ceramic cleanings.</ProTip>

  <!-- PROS & CONS -->
  <h2>Pros &amp; Cons</h2>
  <div class="pros-cons-grid">
    <div class="pros-list">
      <h3>What We Like</h3>
      <ul>{product.pros.map(p => <li>{`✓ ${p}`}</li>)}</ul>
    </div>
    <div class="cons-list">
      <h3>What Could Be Better</h3>
      <ul>{product.cons.map(c => <li>{`✗ ${c}`}</li>)}</ul>
    </div>
  </div>

  <!-- PERFORMANCE -->
  <h2>Performance &amp; Real-World Testing</h2>
  <p>Pumping at a steady cadence, the MiniWorks EX consistently delivers its rated 1 liter per minute from clear mountain streams. In turbid water — post-rainstorm runoff with visible silt — flow rate dropped to approximately 0.5 L/min within the first 2 liters, but a 60-second ceramic scrub brought it back to 0.8 L/min immediately. Over the course of filtering 20 liters from a glacial-fed lake with high mineral content, we cleaned the element three times. Each cleaning took under two minutes including disassembly and reassembly. The ergonomic pump handle provides good leverage, though it does require more effort than gravity-fed systems — expect a moderate arm workout when filtering for a group.</p>
  <p>Water taste from the MiniWorks is noticeably better than pure membrane filters. A side-by-side comparison with a Sawyer Squeeze from the same source revealed what the carbon stage does: the MiniWorks water had no earthy undertones, while the Squeeze-filtered water retained a faint tannic quality. The Nalgene-direct threading works flawlessly — screw on, pump, done. No adapter hoses flopping around, no bags to hold. This simplicity is underrated until you have used a squeeze setup with cold, wet fingers at 7,000 feet elevation.</p>

  <!-- VALUE ANALYSIS -->
  <h2>Value Analysis</h2>
  <p>At $89.95, the MiniWorks EX sits in the {getPriceTier(product.price)} bracket — significantly more than a $35 Sawyer Squeeze but less than a third of the $370 Katadyn Pocket. The ceramic element's 2,000-liter life translates to roughly $0.045 per liter of filtered water, plus approximately $0.02 per liter for replacement elements over time. That is more expensive per liter than a Sawyer (rated for 100,000 liters at $0.00035/L), but the MiniWorks delivers better-tasting water and superior field maintainability — factors that do not show up in cost-per-liter math but matter enormously on a 7-day backpacking trip.</p>
  <p>The MiniWorks makes the most financial sense for hikers who go out 10-20 times per year and filter from varied water sources including turbid streams. If you only do clear alpine lakes, a lighter and cheaper hollow fiber filter is arguably sufficient. But if you frequently encounter silty, tannic, or chemically-treated water sources — or if you simply hate the flat taste of membrane-only filtration — the MiniWorks' carbon stage and field-cleanable ceramic justify the premium. Replacement ceramic + carbon elements run approximately $40, good for another 2,000 liters.</p>

  <!-- FAQ -->
  <h2>Frequently Asked Questions</h2>
  <div class="faq-section">
    {faqs.map(faq => (
      <details class="faq-item">
        <summary>{faq.question}</summary>
        <div class="faq-answer">{faq.answer}</div>
      </details>
    ))}
  </div>

  <!-- VERDICT & CTA -->
  <h2>Final Verdict</h2>
  <div class="verdict-card">    <p>{product.verdict}</p>
    <a href={getAffiliateUrl(product.asin)} target="_blank" rel="nofollow sponsored noopener" class="btn-primary" style="color: #fff !important; text-shadow: 0 1px 2px rgba(0,0,0,0.2);">
      <span>Check Price on Amazon</span>
    </a>
  </div>

  <p style="text-align:center; margin-top:1rem;">
    <a href={`/best-${product.category}/`}>See all {category?.name} reviews &rarr;</a>
  </p>
</ContentLayout>

<style>
  .best-for-box { padding: 1rem 1.25rem; background: hsl(var(--primary) / 0.06); border: 1px solid hsl(var(--primary) / 0.15); border-radius: 0.75rem; margin: 1.5rem 0; font-size: 0.9375rem; color: hsl(var(--foreground)); }
  .pros-cons-grid { display: grid; grid-template-columns: 1fr; gap: 1.5rem; margin: 1.5rem 0; }
  @media (min-width: 768px) { .pros-cons-grid { grid-template-columns: 1fr 1fr; } }
  .pros-list, .cons-list { padding: 1.25rem; border-radius: 0.75rem; border: 1px solid hsl(var(--border)); }
  .pros-list { background: hsl(142 70% 45% / 0.04); border-color: hsl(142 70% 45% / 0.15); }
  .cons-list { background: hsl(0 70% 45% / 0.04); border-color: hsl(0 70% 45% / 0.15); }
  .pros-list h3 { color: hsl(142 70% 45%); font-size: 0.875rem; margin-bottom: 0.75rem; margin-top: 0; }
  .cons-list h3 { color: hsl(0 70% 62%); font-size: 0.875rem; margin-bottom: 0.75rem; margin-top: 0; }
  .pros-list ul, .cons-list ul { list-style: none; padding: 0; margin: 0; }
  .pros-list li, .cons-list li { padding: 0.375rem 0; font-size: 0.9375rem; }
  .verdict-card { text-align: center; padding: 2rem; background: hsl(var(--muted) / 0.3); border: 1px solid hsl(var(--border)); border-radius: 1rem; margin: 1.5rem 0; position: relative; overflow: hidden; }
  .verdict-card::before { content: ''; position: absolute; top: 0; left: 0; width: 200%; height: 3px; background: linear-gradient(90deg, hsl(var(--primary)), hsl(var(--accent)), hsl(var(--primary))); animation: gradient-slide 4s linear infinite; will-change: transform; }
  @keyframes gradient-slide { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
  .specs-table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; }
  .specs-table td { padding: 0.75rem 1rem; border-bottom: 1px solid hsl(var(--border) / 0.5); font-size: 0.9375rem; color: hsl(var(--muted-foreground)); }
  .specs-table td:first-child { width: 40%; color: hsl(var(--foreground)); }
</style>
