---
import ContentLayout from '../../layouts/ContentLayout.astro';
import ProductHero from '../../components/ProductHero.astro';
import ProTip from '../../components/ProTip.astro';
import { getProductBySlug, getAffiliateUrl, getRelatedProducts, isPublished, categories, getPriceTier } from '../../lib/config';
import { generateProductSchema, generateFAQSchema, generateArticleSchema, combineSchemas } from '../../lib/schema';

const product = getProductBySlug('sawyer-products-mini-water-filtration-system')!;
if (!isPublished(product.publishDate)) return Astro.redirect('/404');

const relatedProducts = getRelatedProducts(product);
const category = categories.find(c => c.slug === product.category);

const faqs = [
  { question: 'How does the Sawyer Mini flow rate compare to the full-size Squeeze?', answer: 'The Sawyer Mini flows at approximately 0.5 L/min, while the full-size Squeeze delivers 1.7 L/min — roughly 3.4 times faster. The difference is due to the Mini having a smaller hollow fiber membrane bundle with less total surface area. In practice, filling a 1-liter bottle takes about 2 minutes with the Mini versus 35 seconds with the Squeeze. For day hikes and emergency kits where you are filtering small quantities infrequently, the Mini is perfectly adequate. For thru-hiking or group use where you filter multiple liters daily, the slower flow rate becomes a significant time cost.' },
  { question: 'Can the Sawyer Mini be used inline with a hydration pack?', answer: 'Yes. The Mini connects inline between your hydration bladder hose and bite valve using the included coupling adapters. Water flows through the filter as you sip, so you can fill your bladder with unfiltered water and drink safely on the move. The main drawback of inline use is that the already-slow 0.5 L/min flow rate is further reduced by the limited suction pressure from sipping versus squeezing. You will notice more draw resistance than with the full-size Squeeze in inline mode. For best results, fill the bladder with the clearest source water available to reduce membrane clogging.' },
  { question: 'What is the shelf life of the Sawyer Mini?', answer: 'The Sawyer Mini has an indefinite shelf life if stored properly. Hollow fiber membranes do not degrade chemically over time — the filtration mechanism is purely physical (pore-size exclusion), so there is nothing to expire. Store the filter completely dry in a cool, dark place. Before storage, backwash with clean water and shake out excess moisture. The critical storage rule is to never let it freeze — ice crystals permanently damage the membrane fibers. For emergency kit storage in vehicles or garages where temperatures may drop below freezing, keep the filter in an insulated pouch or move it indoors during winter months.' },
  { question: 'Can the Sawyer Mini handle cold weather and near-freezing water?', answer: 'The Mini can filter cold water without issue — water temperature does not affect hollow fiber filtration performance, though flow rate may feel slightly slower with very cold water due to increased viscosity. The danger is freezing. If water inside the filter freezes, expanding ice crystals rupture the hollow fiber tubes, creating passages large enough for bacteria and protozoa to pass through. There is no visual indicator of freeze damage, so err on the side of caution. In cold weather, keep the filter in your sleeping bag at night and in an inside jacket pocket during the day. If you suspect any freezing has occurred, replace the filter — at $21.99, it is not worth the health risk.' },
];

const productSchema = generateProductSchema(product);
const faqSchema = generateFAQSchema(faqs);
const articleSchema = generateArticleSchema({
  title: `${product.name} Review`,
  description: product.verdict,
  url: `/reviews/${product.slug}/`,
  datePublished: product.publishDate,
  dateModified: product.publishDate,
  about: [{ name: product.name, url: `https://www.amazon.com/dp/${product.asin}`, type: 'Product' }],
  mentions: relatedProducts.slice(0, 3).map(p => ({ name: p.name, url: `https://www.amazon.com/dp/${p.asin}`, type: 'Product' })),
});
const schema = combineSchemas(productSchema, faqSchema, articleSchema);

const relatedArticles = [
  ...relatedProducts.slice(0, 2).map(p => ({
    title: `${p.name} Review`,
    url: `/reviews/${p.slug}/`,
    description: p.verdict,
  })),
  ...(category ? [{
    title: `Best ${category.name}`,
    url: `/best-${category.slug}/`,
    description: category.description,
  }] : []),
  {
    title: 'Best Water Filters for Emergency Preparedness',
    url: '/water-filters-for-emergencies/',
    description: 'The best portable water filters and purifiers for emergency kits, bug-out bags, and disaster preparedness.',
  },
];
---

<ContentLayout
  title={`${product.shortName} Review ${new Date().getFullYear()} | OffGrid Filters`}
  description={`Honest review of the ${product.name}. ${product.bestFor}.`}
  canonical={`/reviews/${product.slug}/`}
  category="Reviews"
  currentPage={product.name}
  schema={schema}
  relatedArticles={relatedArticles}
  lastUpdated={product.publishDate}
  heroImage={`/assets/${product.slug}-hero.webp`}
>
  <!-- HERO -->
  <h1>{product.name} Review {new Date().getFullYear()}</h1>
  <ProductHero product={product} />

  <!-- OVERVIEW -->
  <h2>Overview</h2>
  <p>The Sawyer Mini is the most popular portable water filter ever made, with over 38,000 Amazon reviews — more than any competing product by a wide margin. At 2 ounces and $21.99, it delivers the same 0.1-micron absolute hollow fiber filtration as the full-size Sawyer Squeeze at a lower weight and price point. The trade-off is flow rate: the Mini's smaller membrane bundle produces 0.5 L/min compared to the Squeeze's 1.7 L/min, making it roughly three times slower. For ultralight hikers counting every gram and emergency preppers stashing filters in kits, that trade-off is worth it. For primary trail use, the full-size Squeeze is the better tool.</p>
  <p>The Mini uses identical filtration technology to its larger sibling — thousands of U-shaped hollow fiber tubes with precisely 0.1-micron pores that physically block bacteria (99.99999% removal, log-7) and protozoa (99.9999% removal, log-6). It ships with a 16oz squeeze pouch, a drinking straw, and adapters for inline hydration pack use. The triple-use design — as a straw filter, a squeeze filter, or an inline filter — makes it one of the most versatile water treatment options at any price. The included 16oz pouch is functional but small; most users pair the Mini with a standard 28mm-thread water bottle (like a Smartwater bottle) for a lighter, more durable squeeze setup.</p>
  <p>The Mini's greatest strength is its role as insurance. At $21.99 and 2 ounces, there is simply no excuse not to carry one as a backup in your pack, vehicle, or emergency kit. Even if you never use it as your primary filter, having a Mini tucked into a side pocket means you are never more than 30 seconds away from safe drinking water near any freshwater source. The 100,000-gallon rated capacity means a single Mini can sit in an emergency kit for years and still deliver full performance when needed — hollow fiber membranes do not degrade over time as long as they have not frozen.</p>

  <div class="best-for-box">
    <strong>Best For:</strong> {product.bestFor}
  </div>

  <!-- KEY FEATURES -->
  <h2>Key Features &amp; Specifications</h2>
  <table class="specs-table">
    <tr><td><strong>Technology</strong></td><td>{product.specs.filtrationTechnology}</td></tr>
    <tr><td><strong>Stages</strong></td><td>{product.specs.filtrationStages}</td></tr>
    <tr><td><strong>Micron Rating</strong></td><td>{product.specs.micronRating} microns</td></tr>
    <tr><td><strong>Capacity</strong></td><td>{product.specs.capacity}</td></tr>
    <tr><td><strong>Flow Rate</strong></td><td>{product.specs.flowRate}</td></tr>
    <tr><td><strong>Dimensions</strong></td><td>{product.specs.dimensions}</td></tr>
    <tr><td><strong>Weight</strong></td><td>{product.specs.weight}</td></tr>
    <tr><td><strong>Contaminants Removed</strong></td><td>{product.specs.contaminantsRemoved}</td></tr>
  </table>

  <p>The 0.1-micron absolute rating means no bacteria or protozoa can pass through the membrane — period. "Absolute" is a critical term: it means every single pore is 0.1 microns or smaller, as opposed to a "nominal" rating where the average pore size meets the spec but individual pores may be larger. This distinction matters because a single oversized pore in a nominal filter can allow pathogens through. Sawyer's absolute rating is independently verified and is the same standard used in medical-grade dialysis equipment.</p>

  <ProTip>The best ultralight setup with the Sawyer Mini is not the included pouch — it is a 1-liter Smartwater bottle. The standard Smartwater bottle has 28mm threads that fit the Mini perfectly, weighs about 1.4 oz empty, and is far more durable than the included 16oz pouch. Fill it from a stream, screw on the Mini, and squeeze. Total system weight: 3.4 ounces. You can also drink directly through the Mini while it is threaded onto the bottle — no squeezing required.</ProTip>

  <!-- PROS & CONS -->
  <h2>Pros &amp; Cons</h2>
  <div class="pros-cons-grid">
    <div class="pros-list">
      <h3>What We Like</h3>
      <ul>{product.pros.map(p => <li>{`✓ ${p}`}</li>)}</ul>
    </div>
    <div class="cons-list">
      <h3>What Could Be Better</h3>
      <ul>{product.cons.map(c => <li>{`✗ ${c}`}</li>)}</ul>
    </div>
  </div>

  <!-- PERFORMANCE -->
  <h2>Performance &amp; Real-World Testing</h2>
  <p>In side-by-side testing with the full-size Sawyer Squeeze, the flow rate difference is immediately apparent. Filling a 1-liter Nalgene from a Smartwater bottle squeeze took approximately 2 minutes with the Mini versus about 35 seconds with the Squeeze. Over a full day of hiking where you might filter 3-4 liters, that difference adds up to roughly 6-8 extra minutes of squeezing time. For a thru-hiker filtering 4+ liters daily for months, the cumulative time cost is significant. For a day hiker filtering one or two liters, it is a non-issue.</p>
  <p>Water quality from the Mini is indistinguishable from the Squeeze — both use identical hollow fiber technology and produce clean, taste-neutral output. The Mini handled turbid creek water competently, though flow rate degraded faster than the Squeeze due to the smaller membrane surface area clogging more quickly from sediment. Backwashing with the included syringe (or by filling a clean Smartwater bottle and squeezing water backward through the filter) restored flow effectively. The 4.6-star rating across 38,000 reviews confirms long-term reliability — the most common complaint is the slow flow rate, not filtration failures. For a $22 filter, the performance-to-price ratio is exceptional.</p>

  <!-- VALUE ANALYSIS -->
  <h2>Value Analysis</h2>
  <p>At $21.99, the Sawyer Mini is the cheapest name-brand hollow fiber filter on the market. Compared to budget filter straws like the Membrane Solutions 4-pack ($9.75/straw) or Timain 2-pack ($7.12/straw), the Mini costs more per unit but offers significantly better brand reliability, a 100,000-gallon capacity rating, and the versatility of straw/squeeze/inline modes. Compared to the full-size Sawyer Squeeze ($34.97), the Mini saves $13 and 1 ounce of weight but sacrifices two-thirds of the flow rate. The Squeeze includes a backwash syringe and larger 32oz pouches; the Mini does not include a syringe (sold separately for about $5).</p>
  <p>The sweet spot for the Mini is as a secondary filter or emergency backup. Stash one in every vehicle glove compartment, emergency kit, and hiking day pack. At $22, the cost of redundancy is trivial compared to the peace of mind. As a primary filter for serious backcountry use, the full-size Squeeze is worth the $13 premium for 3.4x faster flow. If you are building a family emergency kit, the Membrane Solutions 4-pack ($38.98 for four straws) offers more units per dollar, but each straw lacks the Mini's inline compatibility and brand pedigree. The Mini occupies a unique niche: the lightest, cheapest, most versatile name-brand filter with a credible 100,000-gallon lifespan.</p>

  <!-- FAQ -->
  <h2>Frequently Asked Questions</h2>
  <div class="faq-section">
    {faqs.map(faq => (
      <details class="faq-item">
        <summary>{faq.question}</summary>
        <div class="faq-answer">{faq.answer}</div>
      </details>
    ))}
  </div>

  <!-- VERDICT & CTA -->
  <h2>Final Verdict</h2>
  <div class="verdict-card">    <p>{product.verdict}</p>
    <a href={getAffiliateUrl(product.asin)} target="_blank" rel="nofollow sponsored noopener" class="btn-primary" style="color: #fff !important; text-shadow: 0 1px 2px rgba(0,0,0,0.2);">
      <span>Check Price on Amazon</span>
    </a>
  </div>

  <p style="text-align:center; margin-top:1rem;">
    <a href={`/best-${product.category}/`}>See all {category?.name} reviews &rarr;</a>
  </p>
</ContentLayout>

<style>
  .best-for-box { padding: 1rem 1.25rem; background: hsl(var(--primary) / 0.06); border: 1px solid hsl(var(--primary) / 0.15); border-radius: 0.75rem; margin: 1.5rem 0; font-size: 0.9375rem; color: hsl(var(--foreground)); }
  .pros-cons-grid { display: grid; grid-template-columns: 1fr; gap: 1.5rem; margin: 1.5rem 0; }
  @media (min-width: 768px) { .pros-cons-grid { grid-template-columns: 1fr 1fr; } }
  .pros-list, .cons-list { padding: 1.25rem; border-radius: 0.75rem; border: 1px solid hsl(var(--border)); }
  .pros-list { background: hsl(142 70% 45% / 0.04); border-color: hsl(142 70% 45% / 0.15); }
  .cons-list { background: hsl(0 70% 45% / 0.04); border-color: hsl(0 70% 45% / 0.15); }
  .pros-list h3 { color: hsl(142 70% 45%); font-size: 0.875rem; margin-bottom: 0.75rem; margin-top: 0; }
  .cons-list h3 { color: hsl(0 70% 62%); font-size: 0.875rem; margin-bottom: 0.75rem; margin-top: 0; }
  .pros-list ul, .cons-list ul { list-style: none; padding: 0; margin: 0; }
  .pros-list li, .cons-list li { padding: 0.375rem 0; font-size: 0.9375rem; }
  .verdict-card { text-align: center; padding: 2rem; background: hsl(var(--muted) / 0.3); border: 1px solid hsl(var(--border)); border-radius: 1rem; margin: 1.5rem 0; position: relative; overflow: hidden; }
  .verdict-card::before { content: ''; position: absolute; top: 0; left: 0; width: 200%; height: 3px; background: linear-gradient(90deg, hsl(var(--primary)), hsl(var(--accent)), hsl(var(--primary))); animation: gradient-slide 4s linear infinite; will-change: transform; }
  @keyframes gradient-slide { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
  .specs-table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; }
  .specs-table td { padding: 0.75rem 1rem; border-bottom: 1px solid hsl(var(--border) / 0.5); font-size: 0.9375rem; color: hsl(var(--muted-foreground)); }
  .specs-table td:first-child { width: 40%; color: hsl(var(--foreground)); }
</style>
