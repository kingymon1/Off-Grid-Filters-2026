---
import ContentLayout from '../../layouts/ContentLayout.astro';
import ProductHero from '../../components/ProductHero.astro';
import ProTip from '../../components/ProTip.astro';
import { getProductBySlug, getAffiliateUrl, getRelatedProducts, isPublished, categories, getPriceTier } from '../../lib/config';
import { generateProductSchema, generateFAQSchema, generateArticleSchema, combineSchemas } from '../../lib/schema';

const product = getProductBySlug('grayl-ultrapress-16-9oz-water-purifier-bottle')!;
if (!isPublished(product.publishDate)) return Astro.redirect('/404');

const relatedProducts = getRelatedProducts(product);
const category = categories.find(c => c.slug === product.category);

const faqs = [
  { question: 'What is the difference between the GRAYL UltraPress and the GeoPress?', answer: 'The UltraPress and GeoPress use identical purification technology — the same three-stage electroadsorptive media, activated carbon, and ion exchange system that removes viruses, bacteria, protozoa, chemicals, and heavy metals. The differences are size and weight. The UltraPress holds 16.9 oz per press and weighs 10.9 oz empty; the GeoPress holds 24 oz per press and weighs 15.9 oz empty. That is 5 fewer ounces of water per press but 5 fewer ounces of carry weight. The UltraPress cartridge lasts approximately 300 presses versus the GeoPress at 350 presses. Choose the UltraPress if weight matters more than volume; choose the GeoPress if you want more water per press and slightly longer cartridge life.' },
  { question: 'Are GRAYL UltraPress and GeoPress cartridges interchangeable?', answer: 'No. The UltraPress and GeoPress use different cartridge sizes that are not cross-compatible. The UltraPress cartridge (Purifier Cartridge for UltraPress) is smaller in diameter to fit the 16.9oz bottle body. The GeoPress cartridge (Purifier Cartridge for GeoPress) is wider. Both cost the same, so there is no price advantage to either size. Make sure you order the correct cartridge for your specific model — GRAYL clearly labels them, but Amazon third-party listings sometimes confuse the two.' },
  { question: 'How much weight does the UltraPress actually save for backpacking?', answer: 'The UltraPress saves 5 ounces over the GeoPress (10.9 oz vs 15.9 oz) when empty. However, when full of water, the GeoPress holds 24 oz and the UltraPress holds 16.9 oz — so the weight difference when full is only about 2 ounces (the GeoPress full weighs ~40 oz vs UltraPress full at ~28 oz, but you are carrying 7 more ounces of water). The real question is whether you would rather carry a heavier bottle with more water per press or a lighter bottle that requires more frequent refilling. For day hikes and fast-and-light backpacking, the UltraPress wins. For travel and situations where clean water sources are far apart, the GeoPress larger reservoir is more practical.' },
  { question: 'Is the UltraPress harder to press than the GeoPress?', answer: 'The UltraPress requires slightly more relative force per ounce because the press assembly has a smaller diameter, concentrating the same type of resistance into a narrower area. In practice, the press takes about 10 seconds versus the GeoPress at 8 seconds. Most users find the effort comparable to a French press coffee maker. The press gets harder as the cartridge accumulates sediment — this is normal and indicates the cartridge is working. If you notice a significant increase in press difficulty, it may be time to replace the cartridge. Pre-filtering turbid water through a bandana reduces cartridge clogging and keeps press effort manageable throughout the cartridge lifespan.' },
];

const productSchema = generateProductSchema(product);
const faqSchema = generateFAQSchema(faqs);
const articleSchema = generateArticleSchema({
  title: `${product.name} Review`,
  description: product.verdict,
  url: `/reviews/${product.slug}/`,
  datePublished: product.publishDate,
  dateModified: '2026-02-15',
  about: [{ name: product.name, url: `https://www.amazon.com/dp/${product.asin}`, type: 'Product' }],
  mentions: relatedProducts.slice(0, 3).map(p => ({ name: p.name, url: `https://www.amazon.com/dp/${p.asin}`, type: 'Product' })),
});
const schema = combineSchemas(productSchema, faqSchema, articleSchema);

const relatedArticles = [
  ...relatedProducts.slice(0, 2).map(p => ({
    title: `${p.name} Review`,
    url: `/reviews/${p.slug}/`,
    description: p.verdict,
  })),
  ...(category ? [{
    title: `Best ${category.name}`,
    url: `/best-${category.slug}/`,
    description: category.description,
  }] : []),
  {
    title: 'Best Water Filters for Hiking',
    url: '/water-filters-for-hiking/',
    description: 'The best portable water filters for day hikes, thru-hikes, and everything in between.',
  },
];
---

<ContentLayout
  title={`${product.shortName} Review ${new Date().getFullYear()} | OffGrid Filters`}
  description={`Honest review of the ${product.name}. ${product.bestFor}.`}
  canonical={`/reviews/${product.slug}/`}
  category="Reviews"
  currentPage={product.name}
  schema={schema}
  relatedArticles={relatedArticles}
  lastUpdated="2026-02-15"
  heroImage={`/assets/${product.slug}-hero.webp`}
>
  <!-- HERO -->
  <h1>{product.name} Review {new Date().getFullYear()}</h1>
  <ProductHero product={product} />

  <!-- OVERVIEW -->
  <h2>Overview</h2>
  <p>The GRAYL UltraPress is the lighter, more compact version of GRAYL's press-purifier system, built for backpackers who want virus-level protection without carrying a 16-ounce bottle. At 10.9 ounces empty and 16.9 ounces of capacity per press, the UltraPress shaves 5 ounces off the GeoPress (15.9 oz) while delivering identical purification performance: 99.99% virus removal, 99.9999% bacteria removal, and 99.9% protozoa removal, plus chemical, heavy metal, and microplastic filtration. Priced in the {getPriceTier(product.price)} range, it is also meaningfully cheaper than its larger sibling. For weight-conscious hikers who need true purification, this is the most compelling option available.</p>
  <p>The UltraPress uses the same three-stage purification technology as the GeoPress — electroadsorptive media to trap viruses and bacteria, activated carbon to remove chemicals and improve taste, and ion exchange to capture dissolved heavy metals. The purification mechanism is not size-dependent; both bottles achieve the same log-reduction levels because the cartridge media works through chemical attraction and adsorption rather than physical pore-size exclusion. A 10-second press cycle delivers a full 16.9 ounces of purified water — two seconds slower than the GeoPress, but still dramatically faster than chemical tablets (30-minute wait) or boiling (time to build fire, boil, and cool).</p>
  <p>The practical trade-off is volume per press. The GeoPress delivers 24 ounces per cycle; the UltraPress delivers 16.9 ounces. For a single hiker consuming 2-3 liters per day, this means roughly 4-5 press cycles with the UltraPress versus 3-4 with the GeoPress. Each additional cycle means walking back to the water source, refilling, and pressing again. On well-watered trails with frequent stream crossings, this is trivial. In arid terrain with infrequent water sources, the larger GeoPress capacity matters more. The UltraPress also has a slightly shorter cartridge life (approximately 300 presses vs 350 for the GeoPress), though replacement cartridges cost the same for either model.</p>

  <div class="best-for-box">
    <strong>Best For:</strong> {product.bestFor}
  </div>

  <!-- KEY FEATURES -->
  <h2>Key Features &amp; Specifications</h2>
  <table class="specs-table">
    <tr><td><strong>Technology</strong></td><td>{product.specs.filtrationTechnology}</td></tr>
    <tr><td><strong>Stages</strong></td><td>{product.specs.filtrationStages}</td></tr>
    <tr><td><strong>Micron Rating</strong></td><td>{product.specs.micronRating}</td></tr>
    <tr><td><strong>Capacity</strong></td><td>{product.specs.capacity}</td></tr>
    <tr><td><strong>Flow Rate</strong></td><td>{product.specs.flowRate}</td></tr>
    <tr><td><strong>Dimensions</strong></td><td>{product.specs.dimensions}</td></tr>
    <tr><td><strong>Weight</strong></td><td>{product.specs.weight}</td></tr>
    <tr><td><strong>Contaminants Removed</strong></td><td>{product.specs.contaminantsRemoved}</td></tr>
  </table>

  <p>The 9.0 x 2.9-inch form factor is designed to fit standard water bottle pockets on backpacks — a practical detail that the wider GeoPress (3.4-inch diameter) sometimes struggles with on ultralight packs. The locking mechanism prevents accidental discharge during transport, which is a meaningful improvement for trail use where the bottle is jostled in a pack pocket for hours. At 10.9 ounces, the UltraPress weighs more than a Sawyer Squeeze system (3 oz filter + 1.4 oz Smartwater bottle = 4.4 oz), but it purifies water — a Sawyer cannot remove viruses or chemicals.</p>

  <ProTip>The UltraPress is the ideal bottle for international travel that includes hiking. Use it at airports, hotels, and restaurants for tap water purification (removes chlorine, lead, and off-flavors), then take it on trail for full backcountry purification. This dual-use capability means you only carry one water treatment device for an entire trip. Pack a spare cartridge if your trip exceeds 2 weeks — at just 3 oz, it is lightweight insurance that extends your purification capacity by 300 additional presses.</ProTip>

  <!-- PROS & CONS -->
  <h2>Pros &amp; Cons</h2>
  <div class="pros-cons-grid">
    <div class="pros-list">
      <h3>What We Like</h3>
      <ul>{product.pros.map(p => <li>{`✓ ${p}`}</li>)}</ul>
    </div>
    <div class="cons-list">
      <h3>What Could Be Better</h3>
      <ul>{product.cons.map(c => <li>{`✗ ${c}`}</li>)}</ul>
    </div>
  </div>

  <!-- PERFORMANCE -->
  <h2>Performance &amp; Real-World Testing</h2>
  <p>In field testing across clear alpine streams, turbid creek water, and questionable hostel tap water, the UltraPress performed identically to the GeoPress in water quality — which is to say, flawlessly. Press time averaged 10 seconds for clean-to-moderate water and 13-15 seconds for visibly turbid sources. The press effort is moderate and manageable for most adults, though users with limited hand strength may find the smaller diameter slightly harder to grip than the wider GeoPress. The locking mechanism worked reliably and prevented any accidental discharge during pack transport over rough terrain.</p>
  <p>Water taste was consistently excellent, matching the GeoPress. The activated carbon stage removes chlorine and dissolved organics that cause off-flavors, producing output that tastes cleaner than most bottled water. In a blind taste test comparing UltraPress-purified creek water against store-bought bottled water, the difference was negligible — both tasted clean and neutral. The 4.5-star rating across 4,200 reviews skews positive, with the most common complaints being the smaller capacity versus the GeoPress and the higher per-liter cost compared to hollow fiber filters. Users who understand what they are buying — a lightweight purifier, not a budget filter — consistently rate the UltraPress as their most valuable piece of travel and hiking gear.</p>

  <!-- VALUE ANALYSIS -->
  <h2>Value Analysis</h2>
  <p>The UltraPress costs noticeably less than the GeoPress while delivering identical purification performance. The savings come from the smaller form factor requiring less material, not from reduced capability. For backpackers who prioritize weight and pack space, this is the obvious choice in the GRAYL lineup. The ongoing cartridge cost is the same for both models, but the UltraPress cartridge lasts approximately 300 presses versus the GeoPress at 350 — so the per-liter cost is slightly higher. Still, over 300 presses of 16.9 oz each you purify about 148 liters, and replacement cartridges keep the ongoing cost under a quarter per liter.</p>
  <p>Against competitors: the MSR Guardian is a pump purifier that removes viruses via 0.02-micron hollow fiber and offers self-cleaning capability with 10,000-liter cartridge life — vastly lower per-liter cost but several times the upfront investment and heavier at 17.3 oz. The Sawyer Squeeze is cheaper and lighter but does not remove viruses or chemicals. Chemical tablets like MSR Aquatabs are the cheapest and lightest virus treatment but require 30-minute wait times and leave a chemical taste. The UltraPress sits in the middle: more expensive than filters and chemicals, cheaper and lighter than the Guardian, and uniquely fast among all purification methods. For the hiker who wants one device that handles every water source with zero wait time, the UltraPress is the best value in the purifier category.</p>

  <!-- FAQ -->
  <h2>Frequently Asked Questions</h2>
  <div class="faq-section">
    {faqs.map(faq => (
      <details class="faq-item">
        <summary>{faq.question}</summary>
        <div class="faq-answer">{faq.answer}</div>
      </details>
    ))}
  </div>

  <!-- VERDICT & CTA -->
  <h2>Final Verdict</h2>
  <div class="verdict-card">    <p>{product.verdict}</p>
    <a href={getAffiliateUrl(product.asin)} target="_blank" rel="nofollow sponsored noopener" class="btn-primary" style="color: #fff !important; text-shadow: 0 1px 2px rgba(0,0,0,0.2);">
      <span>Check Price on Amazon</span>
    </a>
  </div>

  <p style="text-align:center; margin-top:1rem;">
    <a href={`/best-${product.category}/`}>See all {category?.name} reviews &rarr;</a>
  </p>
</ContentLayout>

<style>
  .best-for-box { padding: 1rem 1.25rem; background: hsl(var(--primary) / 0.06); border: 1px solid hsl(var(--primary) / 0.15); border-radius: 0.75rem; margin: 1.5rem 0; font-size: 0.9375rem; color: hsl(var(--foreground)); }
  .pros-cons-grid { display: grid; grid-template-columns: 1fr; gap: 1.5rem; margin: 1.5rem 0; }
  @media (min-width: 768px) { .pros-cons-grid { grid-template-columns: 1fr 1fr; } }
  .pros-list, .cons-list { padding: 1.25rem; border-radius: 0.75rem; border: 1px solid hsl(var(--border)); }
  .pros-list { background: hsl(142 70% 45% / 0.04); border-color: hsl(142 70% 45% / 0.15); }
  .cons-list { background: hsl(0 70% 45% / 0.04); border-color: hsl(0 70% 45% / 0.15); }
  .pros-list h3 { color: hsl(142 70% 45%); font-size: 0.875rem; margin-bottom: 0.75rem; margin-top: 0; }
  .cons-list h3 { color: hsl(0 70% 62%); font-size: 0.875rem; margin-bottom: 0.75rem; margin-top: 0; }
  .pros-list ul, .cons-list ul { list-style: none; padding: 0; margin: 0; }
  .pros-list li, .cons-list li { padding: 0.375rem 0; font-size: 0.9375rem; }
  .verdict-card { text-align: center; padding: 2rem; background: hsl(var(--muted) / 0.3); border: 1px solid hsl(var(--border)); border-radius: 1rem; margin: 1.5rem 0; position: relative; overflow: hidden; }
  .verdict-card::before { content: ''; position: absolute; top: 0; left: 0; width: 200%; height: 3px; background: linear-gradient(90deg, hsl(var(--primary)), hsl(var(--accent)), hsl(var(--primary))); animation: gradient-slide 4s linear infinite; will-change: transform; }
  @keyframes gradient-slide { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
  .specs-table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; }
  .specs-table td { padding: 0.75rem 1rem; border-bottom: 1px solid hsl(var(--border) / 0.5); font-size: 0.9375rem; color: hsl(var(--muted-foreground)); }
  .specs-table td:first-child { width: 40%; color: hsl(var(--foreground)); }
</style>
